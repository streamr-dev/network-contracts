$ ./scripts/2024-10-25-deploy-to-iotex-testnet.sh                                                 [11:12:31]
+ '[' -z <redacted> ']'
+ export CHAIN=iotexTestnet
+ CHAIN=iotexTestnet
+ export SCRIPT_FILE=scripts/deployStreamrContracts.ts
+ SCRIPT_FILE=scripts/deployStreamrContracts.ts
+ npm run hardhatScript

> @streamr/network-contracts@7.1.1 hardhatScript
> hardhat run --network $CHAIN $SCRIPT_FILE

You have both ethereum-waffle and @nomicfoundation/hardhat-chai-matchers installed. They don't work correctly together, so please make sure you only use one.

We recommend you migrate to @nomicfoundation/hardhat-chai-matchers. Learn how to do it here: https://hardhat.org/migrate-from-waffle
 ·----------------------------------|--------------------------------|--------------------------------·
 |  Solc version: 0.8.13            ·  Optimizer enabled: true       ·  Runs: 100                     │
 ···································|································|·································
 |  Contract Name                   ·  Deployed size (KiB) (change)  ·  Initcode size (KiB) (change)  │
 ···································|································|·································
 |  AcceptEverythingPaymaster       ·                 3.571 (0.000)  ·                 3.694 (0.000)  │
 ···································|································|·································
 |  AddressUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  AddressUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  AdminKickPolicy                 ·                11.931 (0.000)  ·                11.976 (0.000)  │
 ···································|································|·································
 |  BasicToken                      ·                 0.497 (0.000)  ·                 0.528 (0.000)  │
 ···································|································|·································
 |  BufferChainlink                 ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  CBORChainlink                   ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  Chainlink                       ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  ClonesUpgradeable               ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  DefaultDelegationPolicy         ·                18.962 (0.000)  ·                19.007 (0.000)  │
 ···································|································|·································
 |  DefaultExchangeRatePolicy       ·                18.966 (0.000)  ·                19.011 (0.000)  │
 ···································|································|·································
 |  DefaultLeavePolicy              ·                11.669 (0.000)  ·                11.714 (0.000)  │
 ···································|································|·································
 |  DefaultUndelegationPolicy       ·                19.318 (0.000)  ·                19.363 (0.000)  │
 ···································|································|·································
 |  ECDSA                           ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  ECDSAUpgradeable                ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  ENSCache                        ·                 7.256 (0.000)  ·                 7.967 (0.000)  │
 ···································|································|·································
 |  ENSCacheV1                      ·                 6.815 (0.000)  ·                 7.526 (0.000)  │
 ···································|································|·································
 |  ENSCacheV2Streamr               ·                 5.178 (0.000)  ·                 5.252 (0.000)  │
 ···································|································|·································
 |  ENSRegistry                     ·                 2.417 (0.000)  ·                 2.504 (0.000)  │
 ···································|································|·································
 |  ERC20                           ·                 2.190 (0.000)  ·                 2.832 (0.000)  │
 ···································|································|·································
 |  ERC20Mintable                   ·                 2.525 (0.000)  ·                 3.192 (0.000)  │
 ···································|································|·································
 |  ERC20Upgradeable                ·                 2.097 (0.000)  ·                 2.128 (0.000)  │
 ···································|································|·································
 |  FIFSRegistrar                   ·                 0.574 (0.000)  ·                 0.731 (0.000)  │
 ···································|································|·································
 |  Forwarder                       ·                 4.759 (0.000)  ·                 5.229 (0.000)  │
 ···································|································|·································
 |  GsnEip712Library                ·                 1.294 (0.000)  ·                 1.351 (0.000)  │
 ···································|································|·································
 |  GsnUtils                        ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  LinkToken                       ·                 2.676 (0.000)  ·                 2.736 (0.000)  │
 ···································|································|·································
 |  MathUpgradeable                 ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  MaxOperatorsJoinPolicy          ·                11.454 (0.000)  ·                11.499 (0.000)  │
 ···································|································|·································
 |  MinimalForwarder                ·                 2.813 (0.000)  ·                 3.156 (0.000)  │
 ···································|································|·································
 |  MinimalForwarderUpgradeable     ·                 2.394 (0.000)  ·                 2.425 (0.000)  │
 ···································|································|·································
 |  MinLibBytes                     ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  MockERC1271                     ·                 1.637 (0.000)  ·                 1.668 (0.000)  │
 ···································|································|·································
 |  MockRandomOracle                ·                 0.734 (0.000)  ·                 0.921 (0.000)  │
 ···································|································|·································
 |  NetworkParameters               ·                 1.621 (0.000)  ·                 2.296 (0.000)  │
 ···································|································|·································
 |  NodeDomainNameHelper            ·                 0.452 (0.000)  ·                 0.483 (0.000)  │
 ···································|································|·································
 |  NodeModule                      ·                20.818 (0.000)  ·                20.863 (0.000)  │
 ···································|································|·································
 |  NodeRegistry                    ·                 8.724 (0.000)  ·                 8.791 (0.000)  │
 ···································|································|·································
 |  Operator                        ·                18.695 (0.000)  ·                18.740 (0.000)  │
 ···································|································|·································
 |  OperatorContractOnlyJoinPolicy  ·                11.516 (0.000)  ·                11.561 (0.000)  │
 ···································|································|·································
 |  OperatorFactory                 ·                11.744 (0.000)  ·                11.830 (0.000)  │
 ···································|································|·································
 |  Oracle                          ·                 4.589 (0.000)  ·                 4.763 (0.000)  │
 ···································|································|·································
 |  Ownable                         ·                 0.551 (0.000)  ·                 0.694 (0.000)  │
 ···································|································|·································
 |  QueueModule                     ·                21.135 (0.000)  ·                21.180 (0.000)  │
 ···································|································|·································
 |  SafeMath                        ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  SafeMathChainlink               ·                 0.084 (0.000)  ·                 0.118 (0.000)  │
 ···································|································|·································
 |  SafeMathChainlink               ·                 0.074 (0.000)  ·                 0.117 (0.000)  │
 ···································|································|·································
 |  Sponsorship                     ·                11.184 (0.000)  ·                11.229 (0.000)  │
 ···································|································|·································
 |  SponsorshipFactory              ·                10.454 (0.000)  ·                10.540 (0.000)  │
 ···································|································|·································
 |  StakeModule                     ·                23.106 (0.000)  ·                23.152 (0.000)  │
 ···································|································|·································
 |  StakeWeightedAllocationPolicy   ·                13.097 (0.000)  ·                13.142 (0.000)  │
 ···································|································|·································
 |  StandardToken                   ·                 1.501 (0.000)  ·                 1.532 (0.000)  │
 ···································|································|·································
 |  StorageSlotUpgradeable          ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StorageSlotUpgradeable          ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StreamrConfig                   ·                10.344 (0.000)  ·                10.418 (0.000)  │
 ···································|································|·································
 |  StreamrConfigV1_1               ·                10.505 (0.000)  ·                10.579 (0.000)  │
 ···································|································|·································
 |  StreamRegistry                  ·                20.528 (0.000)  ·                20.596 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV2                ·                20.520 (0.000)  ·                20.587 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV3                ·                22.183 (0.000)  ·                22.251 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV4                ·                23.188 (0.000)  ·                23.257 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV4_1              ·                23.265 (0.000)  ·                23.333 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV5                ·                23.490 (0.000)  ·                23.559 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV5_1              ·                23.567 (0.000)  ·                23.636 (0.000)  │
 ···································|································|·································
 |  StreamStorageRegistry           ·                 7.505 (0.000)  ·                 7.572 (0.000)  │
 ···································|································|·································
 |  StreamStorageRegistryV2         ·                 7.833 (0.000)  ·                 7.900 (0.000)  │
 ···································|································|·································
 |  Strings                         ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StringsUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StringsUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  TestAllocationPolicy            ·                12.381 (0.000)  ·                12.426 (0.000)  │
 ···································|································|·································
 |  TestBadOperator                 ·                 2.888 (0.000)  ·                 2.953 (0.000)  │
 ···································|································|·································
 |  TestExchangeRatePolicy          ·                 0.397 (0.000)  ·                 0.429 (0.000)  │
 ···································|································|·································
 |  TestExchangeRatePolicy2         ·                 0.464 (0.000)  ·                 0.495 (0.000)  │
 ···································|································|·································
 |  TestExchangeRatePolicy3         ·                 0.392 (0.000)  ·                 0.423 (0.000)  │
 ···································|································|·································
 |  TestJoinPolicy                  ·                11.453 (0.000)  ·                11.498 (0.000)  │
 ···································|································|·································
 |  TestKickPolicy                  ·                11.760 (0.000)  ·                11.805 (0.000)  │
 ···································|································|·································
 |  TestToken                       ·                 2.818 (0.000)  ·                 3.466 (0.000)  │
 ···································|································|·································
 |  TokenBalanceWeightStrategy      ·                 0.390 (0.000)  ·                 0.533 (0.000)  │
 ···································|································|·································
 |  TrackerRegistry                 ·                 5.609 (0.000)  ·                 8.042 (0.000)  │
 ···································|································|·································
 |  VoteKickPolicy                  ·                19.976 (0.000)  ·                20.021 (0.000)  │
 ···································|································|·································
 |  WeightedNodeRegistry            ·                 9.456 (0.000)  ·                 9.523 (0.000)  │
 ···································|································|·································
 |  WhitelistPaymaster              ·                 4.631 (0.000)  ·                 4.754 (0.000)  │
 ·----------------------------------|--------------------------------|--------------------------------·
You have both ethereum-waffle and @nomicfoundation/hardhat-chai-matchers installed. They don't work correctly together, so please make sure you only use one.

We recommend you migrate to @nomicfoundation/hardhat-chai-matchers. Learn how to do it here: https://hardhat.org/migrate-from-waffle
Connected to network { chainId: 4690, name: 'unknown' }
Estimated gas cost: 60.0 ETH (gas price 1000.0 gwei)
Balance of 0x41e36D4fFb5B443B20f55bcFf27c68fF086Fe06f: 252.503367 ETH
Found DATA token at 0x5ABD469031d2B5f939808565EAB8562d7Cbaa939
Deployed StreamRegistry to 0xDC695780959aa5aEe9B28dfED7332032e3045210
ENSCacheV2 deployed at 0xDDf8FB60f8c3ffb1C20375A30f6D8CFB0C48Bd38
Granting trusted role to self (0x41e36D4fFb5B443B20f55bcFf27c68fF086Fe06f): https://testnet.iotexscan.io/tx/0x5aaebf72eee4ed11659595fac930acdbd6ccf87b5c641bbc1c5a2aca5a113cd8
Setting ENSCacheV2 on StreamRegistry: https://testnet.iotexscan.io/tx/0x80bae7233422ada488a080018d09fddefe3e3cfbf0ce70fcb46978ea2b78c15d
Granting trusted role to ENSCacheV2: https://testnet.iotexscan.io/tx/0x81209f37494c26d0fefba1ffe72eef2c2e9f6221a4bcdae6a89bcb807a6838f0
Deployed NodeRegistry to 0xc0F9666fbF16B2ac5726697237BcdF79096e3FA7
Deployed StreamStorageRegistry to 0xd0C3A69762Bd920C1cAfBE91612a4600429f02f1
Spent 15.968201 ETH for gas
All done! Streamr contract addresses:
{
    "DATA": "0x5ABD469031d2B5f939808565EAB8562d7Cbaa939",
    "StreamRegistry": "0xDC695780959aa5aEe9B28dfED7332032e3045210",
    "ENSCacheV2": "0xDDf8FB60f8c3ffb1C20375A30f6D8CFB0C48Bd38",
    "StorageNodeRegistry": "0xc0F9666fbF16B2ac5726697237BcdF79096e3FA7",
    "StreamStorageRegistry": "0xd0C3A69762Bd920C1cAfBE91612a4600429f02f1"
}
+ read -p 'Copy changed addresses to config, then press enter'
Copy changed addresses to config, then press enter
+ export SCRIPT_FILE=scripts/deployTokenomicsContracts.ts
+ SCRIPT_FILE=scripts/deployTokenomicsContracts.ts
+ npm run hardhatScript

> @streamr/network-contracts@7.1.1 hardhatScript
> hardhat run --network $CHAIN $SCRIPT_FILE

You have both ethereum-waffle and @nomicfoundation/hardhat-chai-matchers installed. They don't work correctly together, so please make sure you only use one.

We recommend you migrate to @nomicfoundation/hardhat-chai-matchers. Learn how to do it here: https://hardhat.org/migrate-from-waffle
 ·----------------------------------|--------------------------------|--------------------------------·
 |  Solc version: 0.8.13            ·  Optimizer enabled: true       ·  Runs: 100                     │
 ···································|································|·································
 |  Contract Name                   ·  Deployed size (KiB) (change)  ·  Initcode size (KiB) (change)  │
 ···································|································|·································
 |  AcceptEverythingPaymaster       ·                 3.571 (0.000)  ·                 3.694 (0.000)  │
 ···································|································|·································
 |  AddressUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  AddressUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  AdminKickPolicy                 ·                11.931 (0.000)  ·                11.976 (0.000)  │
 ···································|································|·································
 |  BasicToken                      ·                 0.497 (0.000)  ·                 0.528 (0.000)  │
 ···································|································|·································
 |  BufferChainlink                 ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  CBORChainlink                   ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  Chainlink                       ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  ClonesUpgradeable               ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  DefaultDelegationPolicy         ·                18.962 (0.000)  ·                19.007 (0.000)  │
 ···································|································|·································
 |  DefaultExchangeRatePolicy       ·                18.966 (0.000)  ·                19.011 (0.000)  │
 ···································|································|·································
 |  DefaultLeavePolicy              ·                11.669 (0.000)  ·                11.714 (0.000)  │
 ···································|································|·································
 |  DefaultUndelegationPolicy       ·                19.318 (0.000)  ·                19.363 (0.000)  │
 ···································|································|·································
 |  ECDSA                           ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  ECDSAUpgradeable                ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  ENSCache                        ·                 7.256 (0.000)  ·                 7.967 (0.000)  │
 ···································|································|·································
 |  ENSCacheV1                      ·                 6.815 (0.000)  ·                 7.526 (0.000)  │
 ···································|································|·································
 |  ENSCacheV2Streamr               ·                 5.178 (0.000)  ·                 5.252 (0.000)  │
 ···································|································|·································
 |  ENSRegistry                     ·                 2.417 (0.000)  ·                 2.504 (0.000)  │
 ···································|································|·································
 |  ERC20                           ·                 2.190 (0.000)  ·                 2.832 (0.000)  │
 ···································|································|·································
 |  ERC20Mintable                   ·                 2.525 (0.000)  ·                 3.192 (0.000)  │
 ···································|································|·································
 |  ERC20Upgradeable                ·                 2.097 (0.000)  ·                 2.128 (0.000)  │
 ···································|································|·································
 |  FIFSRegistrar                   ·                 0.574 (0.000)  ·                 0.731 (0.000)  │
 ···································|································|·································
 |  Forwarder                       ·                 4.759 (0.000)  ·                 5.229 (0.000)  │
 ···································|································|·································
 |  GsnEip712Library                ·                 1.294 (0.000)  ·                 1.351 (0.000)  │
 ···································|································|·································
 |  GsnUtils                        ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  LinkToken                       ·                 2.676 (0.000)  ·                 2.736 (0.000)  │
 ···································|································|·································
 |  MathUpgradeable                 ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  MaxOperatorsJoinPolicy          ·                11.454 (0.000)  ·                11.499 (0.000)  │
 ···································|································|·································
 |  MinimalForwarder                ·                 2.813 (0.000)  ·                 3.156 (0.000)  │
 ···································|································|·································
 |  MinimalForwarderUpgradeable     ·                 2.394 (0.000)  ·                 2.425 (0.000)  │
 ···································|································|·································
 |  MinLibBytes                     ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  MockERC1271                     ·                 1.637 (0.000)  ·                 1.668 (0.000)  │
 ···································|································|·································
 |  MockRandomOracle                ·                 0.734 (0.000)  ·                 0.921 (0.000)  │
 ···································|································|·································
 |  NetworkParameters               ·                 1.621 (0.000)  ·                 2.296 (0.000)  │
 ···································|································|·································
 |  NodeDomainNameHelper            ·                 0.452 (0.000)  ·                 0.483 (0.000)  │
 ···································|································|·································
 |  NodeModule                      ·                20.818 (0.000)  ·                20.863 (0.000)  │
 ···································|································|·································
 |  NodeRegistry                    ·                 8.724 (0.000)  ·                 8.791 (0.000)  │
 ···································|································|·································
 |  Operator                        ·                18.695 (0.000)  ·                18.740 (0.000)  │
 ···································|································|·································
 |  OperatorContractOnlyJoinPolicy  ·                11.516 (0.000)  ·                11.561 (0.000)  │
 ···································|································|·································
 |  OperatorFactory                 ·                11.744 (0.000)  ·                11.830 (0.000)  │
 ···································|································|·································
 |  Oracle                          ·                 4.589 (0.000)  ·                 4.763 (0.000)  │
 ···································|································|·································
 |  Ownable                         ·                 0.551 (0.000)  ·                 0.694 (0.000)  │
 ···································|································|·································
 |  QueueModule                     ·                21.135 (0.000)  ·                21.180 (0.000)  │
 ···································|································|·································
 |  SafeMath                        ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  SafeMathChainlink               ·                 0.084 (0.000)  ·                 0.118 (0.000)  │
 ···································|································|·································
 |  SafeMathChainlink               ·                 0.074 (0.000)  ·                 0.117 (0.000)  │
 ···································|································|·································
 |  Sponsorship                     ·                11.184 (0.000)  ·                11.229 (0.000)  │
 ···································|································|·································
 |  SponsorshipFactory              ·                10.454 (0.000)  ·                10.540 (0.000)  │
 ···································|································|·································
 |  StakeModule                     ·                23.106 (0.000)  ·                23.152 (0.000)  │
 ···································|································|·································
 |  StakeWeightedAllocationPolicy   ·                13.097 (0.000)  ·                13.142 (0.000)  │
 ···································|································|·································
 |  StandardToken                   ·                 1.501 (0.000)  ·                 1.532 (0.000)  │
 ···································|································|·································
 |  StorageSlotUpgradeable          ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StorageSlotUpgradeable          ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StreamrConfig                   ·                10.344 (0.000)  ·                10.418 (0.000)  │
 ···································|································|·································
 |  StreamrConfigV1_1               ·                10.505 (0.000)  ·                10.579 (0.000)  │
 ···································|································|·································
 |  StreamRegistry                  ·                20.528 (0.000)  ·                20.596 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV2                ·                20.520 (0.000)  ·                20.587 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV3                ·                22.183 (0.000)  ·                22.251 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV4                ·                23.188 (0.000)  ·                23.257 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV4_1              ·                23.265 (0.000)  ·                23.333 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV5                ·                23.490 (0.000)  ·                23.559 (0.000)  │
 ···································|································|·································
 |  StreamRegistryV5_1              ·                23.567 (0.000)  ·                23.636 (0.000)  │
 ···································|································|·································
 |  StreamStorageRegistry           ·                 7.505 (0.000)  ·                 7.572 (0.000)  │
 ···································|································|·································
 |  StreamStorageRegistryV2         ·                 7.833 (0.000)  ·                 7.900 (0.000)  │
 ···································|································|·································
 |  Strings                         ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StringsUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  StringsUpgradeable              ·                 0.084 (0.000)  ·                 0.138 (0.000)  │
 ···································|································|·································
 |  TestAllocationPolicy            ·                12.381 (0.000)  ·                12.426 (0.000)  │
 ···································|································|·································
 |  TestBadOperator                 ·                 2.888 (0.000)  ·                 2.953 (0.000)  │
 ···································|································|·································
 |  TestExchangeRatePolicy          ·                 0.397 (0.000)  ·                 0.429 (0.000)  │
 ···································|································|·································
 |  TestExchangeRatePolicy2         ·                 0.464 (0.000)  ·                 0.495 (0.000)  │
 ···································|································|·································
 |  TestExchangeRatePolicy3         ·                 0.392 (0.000)  ·                 0.423 (0.000)  │
 ···································|································|·································
 |  TestJoinPolicy                  ·                11.453 (0.000)  ·                11.498 (0.000)  │
 ···································|································|·································
 |  TestKickPolicy                  ·                11.760 (0.000)  ·                11.805 (0.000)  │
 ···································|································|·································
 |  TestToken                       ·                 2.818 (0.000)  ·                 3.466 (0.000)  │
 ···································|································|·································
 |  TokenBalanceWeightStrategy      ·                 0.390 (0.000)  ·                 0.533 (0.000)  │
 ···································|································|·································
 |  TrackerRegistry                 ·                 5.609 (0.000)  ·                 8.042 (0.000)  │
 ···································|································|·································
 |  VoteKickPolicy                  ·                19.976 (0.000)  ·                20.021 (0.000)  │
 ···································|································|·································
 |  WeightedNodeRegistry            ·                 9.456 (0.000)  ·                 9.523 (0.000)  │
 ···································|································|·································
 |  WhitelistPaymaster              ·                 4.631 (0.000)  ·                 4.754 (0.000)  │
 ·----------------------------------|--------------------------------|--------------------------------·
You have both ethereum-waffle and @nomicfoundation/hardhat-chai-matchers installed. They don't work correctly together, so please make sure you only use one.

We recommend you migrate to @nomicfoundation/hardhat-chai-matchers. Learn how to do it here: https://hardhat.org/migrate-from-waffle
Connected to network { chainId: 4690, name: 'unknown' }
Estimated gas cost: 60.0 ETH (gas price 1000.0 gwei)
Balance of 0x41e36D4fFb5B443B20f55bcFf27c68fF086Fe06f: 236.535166 ETH
Found DATA token at 0x5ABD469031d2B5f939808565EAB8562d7Cbaa939
Found StreamRegistry at 0xDC695780959aa5aEe9B28dfED7332032e3045210
Deployed StreamrConfig to 0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3
Streamr tokenomics contract addresses so far:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3"
}
Done setting StreamrConfig.streamRegistryAddress (https://testnet.iotexscan.io/tx/0x82367362388ff90bba3d9600d55933805b71019745097303c6ff76170b3e1eaa )
Deploying Operator policies...
Deployed DefaultDelegationPolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c"
}
Deployed DefaultExchangeRatePolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3"
}
Operator policies deployed; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5"
}
Deployed NodeModule at 0xC8E8efAF4CE7bCcFc87878631BC64A1FAe63dc5D
Deployed QueueModule at 0xDa579a9a55158Bc57389f1b05F553DEf38a121c1
Deployed StakeModule at 0xdc8d23092b93F9BB7416F45dEa36f55996f34867
Deployed Operator template at 0x1B08F4CC8D5925Fbba64C01E0FC756F24DdE8568
Warning: Potentially unsafe deployment of contracts/OperatorTokenomics/OperatorFactory.sol:OperatorFactory

    You are using the `unsafeAllow.delegatecall` flag.

Deployed OperatorFactory; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Done adding trusted policies (https://testnet.iotexscan.io/tx/0x85d95dbc0f04c276aec171150f0883c49bf665c9d3be5a0569f48a10afd1c038 )
Done setting StreamrConfig.operatorFactory (https://testnet.iotexscan.io/tx/0xb244fcebeb2eaf062ca4114b877e348d4a4958856ca8c8b44b453c7f5f57a881 )
Deploying Sponsorship policies...
Deployed MaxOperatorsJoinPolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Deployed OperatorContractOnlyJoinPolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipOperatorContractOnlyJoinPolicy": "0xAd24077505d3584F1AC8d78719F9d31F7Da0E264",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Deployed StakeWeightedAllocationPolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipOperatorContractOnlyJoinPolicy": "0xAd24077505d3584F1AC8d78719F9d31F7Da0E264",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "SponsorshipStakeWeightedAllocationPolicy": "0xB14205AE3D7672B937B972EBdf2b986fB0B8CfaA",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Deployed DefaultLeavePolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipOperatorContractOnlyJoinPolicy": "0xAd24077505d3584F1AC8d78719F9d31F7Da0E264",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "SponsorshipStakeWeightedAllocationPolicy": "0xB14205AE3D7672B937B972EBdf2b986fB0B8CfaA",
    "SponsorshipDefaultLeavePolicy": "0xfC9C1886EAd9a757039Edbee16Bea0183344D2BA",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Deployed VoteKickPolicy; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipOperatorContractOnlyJoinPolicy": "0xAd24077505d3584F1AC8d78719F9d31F7Da0E264",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "SponsorshipStakeWeightedAllocationPolicy": "0xB14205AE3D7672B937B972EBdf2b986fB0B8CfaA",
    "SponsorshipDefaultLeavePolicy": "0xfC9C1886EAd9a757039Edbee16Bea0183344D2BA",
    "SponsorshipVoteKickPolicy": "0xd1cBD6b1Be710C41c01A9613802209843407b8b9",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Deployed Sponsorship template at 0xDdeebc8CC32C317b0add78C1A4dF0791734D33B7
Warning: Potentially unsafe deployment of contracts/OperatorTokenomics/SponsorshipFactory.sol:SponsorshipFactory

    You are using the `unsafeAllow.delegatecall` flag.

Deployed SponsorshipFactory; Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipOperatorContractOnlyJoinPolicy": "0xAd24077505d3584F1AC8d78719F9d31F7Da0E264",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "SponsorshipStakeWeightedAllocationPolicy": "0xB14205AE3D7672B937B972EBdf2b986fB0B8CfaA",
    "SponsorshipDefaultLeavePolicy": "0xfC9C1886EAd9a757039Edbee16Bea0183344D2BA",
    "SponsorshipVoteKickPolicy": "0xd1cBD6b1Be710C41c01A9613802209843407b8b9",
    "SponsorshipFactory": "0x84c8d8f9760639e159350e5d2Bfaada99b670114",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}
Done adding trusted policies (https://testnet.iotexscan.io/tx/0x88458db17875cf2e5abf0126338ac7b4b5f6245bf65a55270f609456287d7546 )
Done setting StreamrConfig.operatorContractOnlyJoinPolicy (https://testnet.iotexscan.io/tx/0xa6ff60553a3513e5fef68b3bc7b1ab5e88a91963b7af2cd6a1d6df85a31fa265 )
Done setting StreamrConfig.sponsorshipFactory (https://testnet.iotexscan.io/tx/0x53b9a0e8d06d065986fb0d909932ec69ba5bed503e6d473c209b439944c81f0a )
Spent 80.644701 ETH for gas
All done! Streamr tokenomics contract addresses:
{
    "StreamrConfig": "0x6d201374D7c28EF1c3cc1b6FA300f06110B597A3",
    "SponsorshipOperatorContractOnlyJoinPolicy": "0xAd24077505d3584F1AC8d78719F9d31F7Da0E264",
    "SponsorshipMaxOperatorsJoinPolicy": "0x78d13aaBA657F448933Bb469E4E549Dee88cB78B",
    "SponsorshipStakeWeightedAllocationPolicy": "0xB14205AE3D7672B937B972EBdf2b986fB0B8CfaA",
    "SponsorshipDefaultLeavePolicy": "0xfC9C1886EAd9a757039Edbee16Bea0183344D2BA",
    "SponsorshipVoteKickPolicy": "0xd1cBD6b1Be710C41c01A9613802209843407b8b9",
    "SponsorshipFactory": "0x84c8d8f9760639e159350e5d2Bfaada99b670114",
    "OperatorDefaultDelegationPolicy": "0x67352e3F7dBA907aF877020aE7E9450C0029C70c",
    "OperatorDefaultExchangeRatePolicy": "0xE41439BF434F9CfBF0153f5231C205d4ae0C22e3",
    "OperatorDefaultUndelegationPolicy": "0xF655955dc561356851e95a6D0febeB0BAc955Ab5",
    "OperatorFactory": "0xdaF0905e19C45b9Fea7E60D232061edF78E9F570"
}